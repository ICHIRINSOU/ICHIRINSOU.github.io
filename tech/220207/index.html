<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">
    <head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
    <meta charset="UTF-8" />

    <meta name="generator" content="Hugo 0.83.1" /><meta name="theme-color" content="#16171d" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>关于JavaScript 作用域&amp;闭包 | 僕と花</title>

    <link rel="stylesheet" href="/css/meme.min.694160bc541ffcb01e6ec33f0d2659bac5d7a4cf64b378fe7c0dabfb28f9811f.css"/>

    
    
        <script src="/js/meme.min.8cbe976441b5181abfd3093c9beee209b19cdbb1fa77c48d225a83ba81fa3fb1.js"></script>

    

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=EB&#43;Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&amp;family=Noto&#43;Serif&#43;SC:wght@400;500;700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" media="print" onload="this.media='all'" />
        <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=EB&#43;Garamond:ital,wght@0,400;0,500;0,700;1,400;1,700&amp;family=Noto&#43;Serif&#43;SC:wght@400;500;700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" /></noscript>

    <meta name="author" content="Hiillos" /><meta name="description" content="什么是闭包？闭包的用途是什么？闭包的缺点是什么？ 作用域 &amp; 词法作用域 什么是作用域 几乎在……" />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#2a6df4" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="僕と花" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="僕と花" />
    <meta name="msapplication-starturl" content="../../" />
    <meta name="msapplication-TileColor" content="#fff" />
    <meta name="msapplication-TileImage" content="../../icons/mstile-150x150.png" />
    <link rel="manifest" href="/manifest.json" />

    
    

    
    <link rel="canonical" href="https://ichirinsou.github.io/tech/220207/" />
    

<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "datePublished": "2022-02-07T22:31:58+08:00",
        "dateModified": "2022-07-14T06:15:17+08:00",
        "url": "https://ichirinsou.github.io/tech/220207/",
        "headline": "关于JavaScript 作用域\u0026闭包",
        "description": "什么是闭包？闭包的用途是什么？闭包的缺点是什么？ 作用域 \u0026 词法作用域 什么是作用域 几乎在……",
        "inLanguage" : "zh-CN",
        "articleSection": "tech",
        "wordCount":  3316 ,
        "author": {
            "@type": "Person",
            "description": "Hurricane, hurricane 🥀",
            "email": "evie.hiillos@gmail.com",
            "image": "https://ichirinsou.github.io/icons/apple-hana.png",
            "url": "https://ichirinsou.github.io/",
            "name": "Hiillos"
        },
        "publisher": {
            "@type": "Organization",
            "name": "僕と花",
            "url": "https://ichirinsou.github.io/"
        },
        "mainEntityOfPage": {
            "@type": "WebSite",
            "@id": "https://ichirinsou.github.io/"
        }
    }
</script>

    

<meta name="twitter:card" content="summary" />


    



<meta property="og:title" content="关于JavaScript 作用域&amp;闭包" />
<meta property="og:description" content="什么是闭包？闭包的用途是什么？闭包的缺点是什么？ 作用域 &amp; 词法作用域 什么是作用域 几乎在……" />
<meta property="og:url" content="https://ichirinsou.github.io/tech/220207/" />
<meta property="og:site_name" content="僕と花" />
<meta property="og:locale" content="zh" /><meta property="og:type" content="article" />
    <meta property="article:published_time" content="2022-02-07T22:31:58&#43;08:00" />
    <meta property="article:modified_time" content="2022-07-14T06:15:17&#43;08:00" />
    
    <meta property="article:section" content="tech" />



    
    

    
</head>

    <body>
        <div class="container">
            
    <header class="header">
        
            <div class="header-wrapper">
                <div class="header-inner single">
                    
    <div class="site-brand">
        
            <a href="/" class="brand">僕と花</a>
        
    </div>

                    <nav class="nav">
    <ul class="menu" id="menu">
        
            
        
        
        
        
            
                <li class="menu-item"><a href="/tech/"><svg t="1624247747202" class="icon flower-tech" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2246" width="200" height="200"><path d="M480.278 957.146L459.44 919.94c1.032-0.594 104.514-59.292 158.966-143.206l35.772 23.244c-60.296 92.878-169.276 154.576-173.9 157.168zM464.22 831.716c-98.22-27.054-138.458-86.848-140.144-89.378l35.646-23.46-0.062-0.094c0.344 0.5 34.052 49.266 115.872 71.822l-11.312 41.11z" fill="#8CC153" p-id="2247"></path><path d="M623.56 812.35c-96.454-2.688-203.67-205.532 218.278-221.528-9.714 422.122-214.152 317.934-218.278 221.528zM336.384 736.964c64.012-5.186 128.118-143.83-152.922-139.55 21.37 280.258 153.578 203.782 152.922 139.55z" fill="#A0D468" p-id="2248"></path><path d="M448.538 512.002h42.674v511.844h-42.674z" fill="#A0D468" p-id="2249"></path><path d="M227.574 160.422c3.25 53.922 210.968 156.796 241.676 163.138v0.406c0.282-0.062 0.594-0.124 0.968-0.188 0.344 0.062 0.686 0.124 0.968 0.188v-0.406c30.71-6.342 238.004-109.216 241.252-163.138C717.282 80.134 620.28-2.528 470.218 0.22 320.14-2.528 222.732 80.134 227.574 160.422z" fill="#4FC2E9" p-id="2250"></path><path d="M705.538 167.608c-37.364-28.334-198.706 60.576-222.884 74.196l-0.25-0.218c-0.156 0.188-0.344 0.406-0.5 0.656-0.282 0.156-0.562 0.282-0.782 0.406l0.25 0.25c-15.902 20.712 31.648 86.818 64.744 118.808 49.268 47.58 50.86 146.862 147.082 61.418 99.78-82.35 67.916-213.342 12.34-255.516zM386.15 363.36c33.116-31.99 88.348-99.75 72.446-120.462l0.282-0.25a18.928 18.928 0 0 1-0.782-0.406c-0.188-0.25-0.342-0.468-0.5-0.656l-0.25 0.218c-24.212-13.622-185.506-102.532-222.87-74.196-55.576 42.174-87.442 173.166 12.34 255.516 96.19 85.442 90.1-12.184 139.334-59.764z" fill="#3BAFDA" p-id="2251"></path><path d="M714.908 359.924c-3.344-48.236-212.324-87.598-243.91-93.284v-0.376c-0.312 0.062-0.656 0.124-1 0.188a17.772 17.772 0 0 1-1-0.188v0.376c-31.616 5.686-240.552 45.048-243.894 93.284-4.998 71.792 90.442 198.376 244.894 195.91 154.468 2.466 249.91-124.12 244.91-195.91z" fill="#4FC2E9" p-id="2252"></path><path d="M470 306.816c-24.618 0-44.642-20.026-44.642-44.642 0-24.618 20.024-44.642 44.642-44.642 24.618 0 44.642 20.024 44.642 44.642 0 24.616-20.024 44.642-44.642 44.642z" fill="#FFCE54" p-id="2253"></path><path d="M470 196.192c-36.458 0-65.98 29.554-65.98 65.98s29.522 65.98 65.98 65.98c36.424 0 65.978-29.554 65.978-65.98S506.424 196.192 470 196.192z m0 89.286c-12.872 0-23.336-10.464-23.336-23.304 0-12.872 10.466-23.336 23.336-23.336 12.84 0 23.304 10.466 23.304 23.336 0 12.838-10.464 23.304-23.304 23.304z" fill="#F6BB42" p-id="2254"></path></svg><span class="menu-item-name">Tech</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/life/"><svg t="1624248245756" class="icon flower-life" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="43513" width="200" height="200"><path d="M468.388 1023.844s354.08-22.554 424.244-510.5c0 0-424.244 41.332-424.244 510.5zM511.046 256.078c0-47.018 38.254-85.288 85.3-85.288 47.05 0 85.32 38.27 85.32 85.288h42.64c0-70.666-57.292-127.96-127.96-127.96-70.664 0-127.958 57.294-127.958 127.96 0 37.926 16.478 71.948 42.658 95.376v-95.376zM383.086 384.04c-70.682 0-127.96 57.294-127.96 127.96h42.658c0-47.018 38.256-85.288 85.302-85.288 47.034 0 85.302 38.27 85.302 85.288v95.378c26.18-23.432 42.658-57.454 42.658-95.378 0-70.666-57.294-127.96-127.96-127.96z" fill="#8CC153" p-id="43514"></path><path d="M383.086 0.156c-70.682 0-127.96 57.294-127.96 127.96h42.658c0-47.018 38.256-85.288 85.302-85.288 47.034 0 85.302 38.27 85.302 85.288v895.726h42.658V128.118c0-70.666-57.294-127.962-127.96-127.962z" fill="#A0D468" p-id="43515"></path><path d="M381.602 202.344c-1.06-22.024-2.138-44.768-16.134-63.856-15.84-21.618-42.862-31.678-85.052-31.678h-1.562c-42.174 0-69.198 10.06-85.036 31.678-13.996 19.088-15.09 41.832-16.136 63.856-1.344 28.148-3.044 46.018-20.244 58.264l-26.068 18.588 27.194 16.902c3.124 1.936 31.288 18.994 56.608 18.994 1.954 0 3.876-0.094 5.734-0.282 10.84 12.652 29.568 31.146 51.42 38.176l6.56 2.124 0.75-0.25 0.75 0.25 6.576-2.124c21.838-7.03 40.582-25.524 51.422-38.176 1.86 0.188 3.766 0.282 5.732 0.282 25.336 0 53.484-17.058 56.608-18.994l27.196-16.902-26.086-18.588c-17.202-12.246-18.888-30.116-20.232-58.264z" fill="#AC92EB" p-id="43516"></path><path d="M822 388.568c-17.214-12.246-18.902-30.116-20.246-58.264-1.062-22.024-2.154-44.768-16.15-63.856-15.806-21.618-42.862-31.678-85.038-31.678h-1.562c-42.174 0-69.196 10.06-85.036 31.678-13.996 19.088-15.058 41.832-16.122 63.856-1.376 28.148-3.06 46.018-20.242 58.264l-26.086 18.588 27.21 16.902c3.124 1.936 31.27 18.994 56.606 18.994 1.938 0 3.876-0.094 5.718-0.282 10.84 12.652 29.584 31.146 51.422 38.176l6.59 2.124 0.718-0.25 0.75 0.25 6.594-2.124c21.836-7.03 40.548-25.524 51.422-38.176 1.842 0.188 3.746 0.282 5.714 0.282 25.336 0 53.484-17.058 56.61-18.994l27.21-16.902L822 388.568zM381.602 586.226c-1.06-22.024-2.138-44.766-16.134-63.856-15.84-21.618-42.862-31.678-85.052-31.678h-1.562c-42.174 0-69.198 10.06-85.036 31.678-13.996 19.09-15.09 41.832-16.136 63.856-1.344 28.148-3.044 46.02-20.244 58.266l-26.068 18.586 27.194 16.902c3.124 1.938 31.288 18.994 56.608 18.994 1.954 0 3.876-0.094 5.734-0.282 10.84 12.652 29.568 31.146 51.42 38.176l6.56 2.124 0.75-0.25 0.75 0.25 6.576-2.124c21.838-7.03 40.582-25.524 51.422-38.176 1.86 0.188 3.766 0.282 5.732 0.282 25.336 0 53.484-17.056 56.608-18.994l27.196-16.902-26.086-18.586c-17.202-12.246-18.888-30.116-20.232-58.266z" fill="#967ADC" p-id="43517"></path></svg><span class="menu-item-name">Life</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/tags/"><svg t="1624248336218" class="icon flower-tags" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="43812" width="200" height="200"><path d="M491.18 980.922c151.25 33.616 405.08-634.962 405.08-634.962-194.848 61.98-493.176 615.374-405.08 634.962z" fill="#8CC153" p-id="43813"></path><path d="M497.866 1022.346c-151.266 33.618-325.4-509.062-325.4-509.062 194.878 62.01 413.482 489.476 325.4 509.062z" fill="#8CC153" p-id="43814"></path><path d="M483.34 3.376C227.48-25.958 103.206 154.174 131.758 173.95 443.726 389.822 483.34 685.636 483.34 685.636c213.168-398.408 255.81-652.956 0-682.26z" fill="#FFCE54" p-id="43815"></path><path d="M475.31 575.764h42.642v447.8h-42.642z" fill="#A0D468" p-id="43816"></path><path d="M483.34 3.376C227.48-25.958 103.206 154.174 131.758 173.95a945.19 945.19 0 0 1 45.674 33.646c101.594 24.992 282.32 52.796 396.832 38.832 36.144-4.436 85.816-50.736 85.192-64.23-4.528-99.564-59.326-165.45-176.116-178.822z" fill="#F6BB42" p-id="43817"></path><path d="M409.862 481.918c53.328 99.846 69.386 179.414 72.728 199.034l3.03 0.376c38.456-72.072 71.244-139.394 97.67-201.5-38.206 7.87-109.666 18.116-173.428 2.09z" fill="#A0D468" p-id="43818"></path><path d="M658.332 163.296c-4.81-17.932-17.962-33.552-38.364-44.83-49.048-27.118-136.722-26.274-180.678 15.464-8.528 8.122-8.872 21.618-0.75 30.146 8.09 8.53 21.586 8.904 30.146 0.782 12.964-12.34 35.552-20.338 61.95-21.9 25.696-1.532 51.406 3.25 68.712 12.84 21.182 11.714 18.682 24.054 17.872 28.116-0.876 4.312-3.5 17.464-30.524 28.492-47.594 19.494-143.908 20.588-264.278 2.968-86.474-12.652-161.858-31.74-192.722-43.486 0.562 0.812 1.25 1.5 2.062 2.062 30.616 21.182 58.608 43.144 84.224 65.542 31.208 6.716 65.606 12.996 100.282 18.088 57.044 8.34 111.154 12.84 156.452 12.964h2.124c54.702 0 97.766-6.28 128.04-18.65 31.926-13.09 50.828-33.116 56.138-59.576 0.218-1 0.376-2 0.53-3a290.524 290.524 0 0 0-1.216-26.022z" fill="#FFCE54" p-id="43819"></path></svg><span class="menu-item-name">Tags</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/about/"><svg t="1624247867641" class="icon flower-about" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4299" width="200" height="200"><path d="M725.278 533.31c0-11.778-9.558-21.306-21.336-21.306-2.156 0-4.25 0.312-6.216 0.906a0.56 0.56 0 0 1-0.218 0.062c-3.842 1.218-47.236 15.028-93.502 46.142-64.45 43.298-103.61 99.658-113.248 162.92l42.158 6.434c7.86-51.578 39.472-96.438 93.958-133.332 42.174-28.586 82.788-41.27 83.288-41.426 8.744-2.656 15.116-10.776 15.116-20.4zM482.198 810.882c-40.16-42.3-77.54-70.512-111.106-83.914l-0.218-0.094c-0.11-0.032-0.218-0.094-0.328-0.124a21.774 21.774 0 0 0-7.842-1.498c-11.778 0-21.322 9.56-21.322 21.338 0 8.996 5.608 16.682 13.496 19.804v0.032c27.398 10.81 60.59 36.208 96.018 73.448 27.616 29.022 46.75 55.014 46.954 55.264l34.394-25.18c-0.83-1.158-20.65-28.118-50.046-59.076z" fill="#8CC153" p-id="4300"></path><path d="M490.506 447.68h42.658v576.166h-42.658z" fill="#A0D468" p-id="4301"></path><path d="M417.748 376.14c0-2.686-0.218 2.624 0 0zM418.108 281.886l-0.36 94.252c0 51.86 42.05 93.91 93.91 93.91 51.858 0 93.908-42.05 93.908-93.91l0.376-94.252h-187.834z" fill="#8CC153" p-id="4302"></path><path d="M868.86 131.62c-0.812-21.9-48.516 10.372-63.042 1.562-14.528-8.778 8.372-58.764-12.09-76.664-20.15-17.652-57.266 28.148-72.76 21.118-15.526-7.06-26.772-60.2-39.924-68.978-13.152-8.81-79.04 48.61-96.316 48.236-17.276-0.376-46.782-55.952-72.882-56.732-26.118-0.782-55.626 56.356-72.886 56.732-17.276 0.376-82.834-57.014-96.002-48.236-13.168 8.81-24.726 61.918-40.238 68.978-15.51 7.03-52.172-38.582-72.322-20.93-20.448 17.9 1.828 66.136-12.714 74.914-14.528 8.81-61.716-21.9-62.544 0-2.906 76.508 83.068 143.238 127.68 150.266 40.27 6.374 90.536-4.31 104.094 0 21.056 6.716 30.834 37.552 30.834 37.552h188.19s9.78-30.834 30.834-37.552c13.558-4.31 63.824 6.374 104.094 0 44.582-7.028 130.9-73.758 127.994-150.266z" fill="#5D9CEC" p-id="4303"></path><path d="M217.684 174.294c9.278-5.624 3.576-27.304 3.544-46.922-0.812 1.842-1.952 3.28-3.544 4.248-14.528 8.81-61.716-21.9-62.544 0-0.468 12.09 1.296 23.93 4.764 35.302 12.482-4.498 45.956 14.528 57.78 7.372zM805.816 175.858c11.808 7.154 45.612-12.872 58.232-8.78 3.498-11.434 5.28-23.336 4.81-35.458-0.812-21.9-48.516 10.372-63.042 1.562-1.344-0.812-2.376-1.968-3.124-3.406-0.564 19.558-5.84 40.644 3.124 46.082z" fill="#5D9CEC" p-id="4304"></path><path d="M230.4 99.35c20.15-17.652 56.81 27.96 72.322 20.93s27.07-60.168 40.238-68.948c13.168-8.81 78.726 48.61 96.002 48.204 17.26-0.374 46.768-57.514 72.884-56.732 26.1 0.782 55.606 56.358 72.882 56.732 17.278 0.406 83.164-57.044 96.316-48.234 13.152 8.81 24.398 61.95 39.924 68.978 15.494 7.03 52.61-38.77 72.76-21.118 3.592 3.124 5.81 7.278 7.184 11.964 1.25-18.526 5.938-43.144-7.184-54.608-20.15-17.652-57.266 28.148-72.76 21.118-15.526-7.06-26.772-60.2-39.924-68.978-13.152-8.81-79.04 48.61-96.316 48.236-17.276-0.376-46.782-55.952-72.882-56.732-26.118-0.782-55.626 56.356-72.886 56.732-17.276 0.376-82.834-57.014-96.002-48.236-13.168 8.81-24.726 61.918-40.238 68.978-15.51 7.03-52.172-38.582-72.322-20.93-13.606 11.902-8.31 37.208-7.514 55.452 1.36-5.03 3.688-9.466 7.516-12.808z" fill="#4A89DC" p-id="4305"></path></svg><span class="menu-item-name">About</span></a>
                </li>
            
        
            
                
                    
                    
                
            
        
            
                
            
        
    </ul>
</nav>

                    
                </div>
            </div>
            
    <input type="checkbox" id="nav-toggle" aria-hidden="true" />
    <label for="nav-toggle" class="nav-toggle"></label>
    <label for="nav-toggle" class="nav-curtain"></label>


        
    </header>




            
            
    <main class="main single" id="main">
    <div class="main-inner">

        

        <article class="content post h-entry" data-align="justify" data-type="tech" data-toc-num="true">

            <h1 class="post-title p-name">关于JavaScript 作用域&amp;闭包</h1>

            

            
                
            

            

            <nav class="contents">
  <h2 id="contents" class="contents-title">目录</h2><ol class="toc">
    <li><a id="contents:作用域--词法作用域" href="#作用域--词法作用域">作用域 &amp; 词法作用域</a>
      <ol>
        <li><a id="contents:什么是作用域" href="#什么是作用域">什么是作用域</a>
          <ol>
            <li><a id="contents:这里有一项非常重要的区分" href="#这里有一项非常重要的区分">⚠️这里有一项非常重要的区分⚠️</a></li>
          </ol>
        </li>
        <li><a id="contents:作用域嵌套" href="#作用域嵌套">作用域嵌套</a></li>
        <li><a id="contents:词法作用域" href="#词法作用域">词法作用域</a>
          <ol>
            <li><a id="contents:这里可以简单的延伸到一个概念" href="#这里可以简单的延伸到一个概念">⚠️这里可以简单的延伸到一个概念⚠️</a></li>
          </ol>
        </li>
        <li><a id="contents:变量提升" href="#变量提升">变量提升</a></li>
      </ol>
    </li>
    <li><a id="contents:函数作用域" href="#函数作用域">函数作用域</a>
      <ol>
        <li><a id="contents:函数的作用域" href="#函数的作用域">函数的作用域</a></li>
      </ol>
    </li>
    <li><a id="contents:闭包" href="#闭包">闭包</a>
      <ol>
        <li><a id="contents:究竟什么是闭包" href="#究竟什么是闭包">究竟什么是闭包？</a></li>
        <li><a id="contents:看是闭包" href="#看是闭包">看，是闭包！</a></li>
        <li><a id="contents:闭包可以用来做什么" href="#闭包可以用来做什么">闭包可以用来做什么？</a>
          <ol>
            <li><a id="contents:访问修改函数内部变量" href="#访问修改函数内部变量">访问/修改函数内部变量</a></li>
            <li><a id="contents:将变量保存在内存中" href="#将变量保存在内存中">将变量保存在内存中</a></li>
          </ol>
        </li>
        <li><a id="contents:闭包的注意事项" href="#闭包的注意事项">闭包的注意事项⚠️</a></li>
      </ol>
    </li>
  </ol>
</nav><div class="post-body e-content">
                <p>什么是闭包？闭包的用途是什么？闭包的缺点是什么？</p>
<h2 id="作用域--词法作用域"><a href="#作用域--词法作用域" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:作用域--词法作用域" class="headings">作用域 &amp; 词法作用域</a></h2>
<ol>
<li>
<h3 id="什么是作用域"><a href="#什么是作用域" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:什么是作用域" class="headings">什么是作用域</a></h3>
<p>几乎在我们学习每一门语言时都会涉及<strong>作用域</strong>这个概念。那究竟什么是作用域呢？</p>
<blockquote>
<p>几乎所有编程语言最基本的功能之一就是能够储存变量当中的值，并且能在之后对这个值进行访问或修改。
但是将变量引入程序会引起几个很有意思的问题，<em>这些变量住在哪里？</em>，换句话说，<em>它们储存在哪里？</em>，最重要的是，<em>程序需要时如何找到它们？</em><a href="https://awesome-programming-books.github.io/javascript/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%8A%E5%8D%B7%EF%BC%89.pdf" target="_blank" rel="noopener">[1]</a></p>
</blockquote>
<p>这些问题正需要一套设计良好的<strong>规则</strong>来储存变量，且之后可以方便快捷地找到这些变量。这套<strong>规则</strong>就是<strong>作用域</strong>。</p>
<p>事实上当我们写下<code>var a = 2</code>时，在JavaScript程序中经历了如下旅程：</p>
<ol>
<li>编译器会问询作用域是否已经有一个名为<code>a</code>的变量存在于同一个作用域集合中？
<ol>
<li>如果是，编译器会忽略这个<code>var</code>声明，继续编译。</li>
<li>如果否，编译器会要求作用域在当前作用域集合中声明一个新的变量<code>a</code>。</li>
</ol>
</li>
<li>接下来编译器会为引擎生成运行时所需的代码，这些代码被用来处理<code>a = 2</code>这个赋值行为。</li>
<li>运行时，引擎也会进行问询作用域在当前的作用域集合中是否存在变量<code>a</code>？
<ol>
<li>如果是，就会将<code>2</code>赋值给<code>a</code>。</li>
<li>如果否，且引擎最终也没有查找到变量<code>a</code>，就会抛出异常。</li>
</ol>
</li>
</ol>
<h4 id="这里有一项非常重要的区分"><a href="#这里有一项非常重要的区分" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:这里有一项非常重要的区分" class="headings">⚠️这里有一项非常重要的区分⚠️</a></h4>
<p>即在引擎运行时的查询方式。</p>
<blockquote>
<p>编译器在编译过程的第二步中生成了代码，引擎执行它时，会通过查找变量a来判断它是否已声明过。查找的过程由作用域进行协助，但是引擎执行怎样的查找，会影响最终的查找结果。</p>
</blockquote>
<p>查询方式分为<code>LHS</code>和<code>RHS</code>两种，这里简单的区分一下两种查询方式的区别：</p>
<ol>
<li>如果查询的目的是对变量进行赋值，那么会使用<code>LHS</code>查询，eg.<code>a = 2</code></li>
<li>如果目的是获取变量的值，那么会使用<code>RHS</code>查询，eg.<code>console.log(a)</code></li>
</ol>
</li>
<li>
<h3 id="作用域嵌套"><a href="#作用域嵌套" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:作用域嵌套" class="headings">作用域嵌套</a></h3>
<p>在JavaScript中，作用域是可以嵌套的。</p>
<p>当一个块或函数嵌套在另一个块或函数中时，就发生了作用域的嵌套。引擎执行的所有查询都会在当前作用域中开始，如果没有在当前作用域中找到需要的标识符，就会向上一级的作用域继续查找目标标识符，直到抵达全局作用域，这时无论是否找到目标变量的标识符都会停止。</p>
</li>
<li>
<h3 id="词法作用域"><a href="#词法作用域" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:词法作用域" class="headings">词法作用域</a></h3>
<p>词法作用域是JavaScript中所使用的作用域类型，也被叫做<strong>静态作用域</strong>。顾名思义，词法作用域意味着作用域是由书写代码时函数声明的位置来决定的，和它的执行位置没有关系。</p>
<h4 id="这里可以简单的延伸到一个概念"><a href="#这里可以简单的延伸到一个概念" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:这里可以简单的延伸到一个概念" class="headings">⚠️这里可以简单的延伸到一个概念⚠️</a></h4>
<p>我们阅读各类文档时都会看到的 <strong>执行上下文</strong> 到底是什么？我的理解下，我们谈论作用域嵌套、甚至作用域时，常常使用的是文字描述上的定义，这是我们能“读懂”的语言，具有普适性，因为每一种语言都有作用域。而在JavaScript中，它真正能够“读懂”的就是执行上下文，这是抽象出来的代码执行环境，它们往往由三部分组成：</p>
<ol>
<li>
<p>变量对象（VO）</p>
<p>每个执行环境都有一个与之关联的变量对象，环境中声明的所有变量和函数都保存在这个对象中。变量对象在函数执行上下文中被称为活动对象（AO），生成于执行上下文创建的阶段。我们在上面举例的<code>var a</code>就属于声明了一个储存在变量对象中的变量<code>a</code>。</p>
</li>
<li>
<p>作用域链</p>
<blockquote>
<p>当代码在一个环境中执行时，会创建变量对象的一个作用域链。作用域链的用途，是保证对执行环境有权访问的所有变量和函数的有序访问。</p>
</blockquote>
<p>即我们在上一小节所描述的作用域嵌套规则。</p>
</li>
<li>
<p>this（它值得单独一篇文章，指路👉🏻）</p>
</li>
</ol>
<p>更多关于执行上下文的细节在这里就不多赘述了，笔者后续也会再写一篇执行上下文之我见，这里只浅显地写了些自己的理解，如有错误还请包含指正。</p>
</li>
<li>
<h3 id="变量提升"><a href="#变量提升" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:变量提升" class="headings">变量提升</a></h3>
<p>联系第一小节中我们提到的<code>var a = 2</code>处理流程，我们不难发现JavaScript引擎将其视作<code>var a</code>与<code>a = 2</code>两个单独的任务。</p>
<blockquote>
<p>这意味着无论作用域中的声明出现在什么地方，都将在代码本身被执行前首先进行处理。可以将这个过程形象地想象成所有的声明（变量和函数）都会被“移动”到各自作用域的最顶端，这个过程被称为 <strong>提升</strong> 。</p>
</blockquote>
<p>而在JavaScript中，函数是当之无愧的“一等公民”。所以在提升中，<strong>函数会被优先提升，然后才是变量</strong>。</p>
</li>
</ol>
<h2 id="函数作用域"><a href="#函数作用域" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:函数作用域" class="headings">函数作用域</a></h2>
<ol>
<li>
<h3 id="函数的作用域"><a href="#函数的作用域" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:函数的作用域" class="headings">函数的作用域</a></h3>
<p>函数是JavaScript中最常见的作用域单元，但不是唯一的作用域单元。声明在一个函数内部的变量或函数会在所处的作用域中“隐藏🫥”起来，外部作用域无法访问“包装在”函数内部的任何内容，这是有意而为之的良好设计原则。</p>
<p>在ES6中引入的<code>let</code>关键字可以用来在任意代码块中声明变量，并隐式劫持了所在的作用域。但是使用<code>let</code>进行的声明不会在块作用域中进行提升。声明的代码在运行之前，并不“存在”。</p>
</li>
</ol>
<h2 id="闭包"><a href="#闭包" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:闭包" class="headings">闭包</a></h2>
<ol>
<li>
<h3 id="究竟什么是闭包"><a href="#究竟什么是闭包" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:究竟什么是闭包" class="headings">究竟什么是闭包？</a></h3>
<p>现在看到了这里，那么究竟什么是闭包呢？</p>
<p>确实众说纷纭。这里我引用一本书中的阐释：</p>
<blockquote>
<p><strong>当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用域之外执行。</strong><a href="https://awesome-programming-books.github.io/javascript/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%8A%E5%8D%B7%EF%BC%89.pdf" target="_blank" rel="noopener">[2]</a></p>
</blockquote>
<p>闭包好像是JavaScript世界中的一朵巨大疑云，但其实如果了解了JavaScript的作用域工作原理，就会发现闭包是一件普通的、甚至随处可见的“自然结果”，是的，它可能只是JavaScript作用域的副产品。</p>
</li>
<li>
<h3 id="看是闭包"><a href="#看是闭包" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:看是闭包" class="headings">看，是闭包！</a></h3>
<p>如果用纯文字来描述闭包，一定是苍白无力的。</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">str</span> <span class="o">=</span> <span class="s1">&#39;明天吃海鲜炒饭！&#39;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table></div>
</div>
</div><p>我们暂时不需要执行函数<code>foo()</code>，仅仅依赖我们之前学到的函数作用域知识，<code>bar()</code>引用了一个在“它的身体里”找不到的变量<code>str</code>，于是按照规则，它会向上一级作用域（也就是<code>foo()</code>的作用域）查找这个变量<code>str</code>。</p>
<p>好在它找到了！</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">str</span> <span class="o">=</span> <span class="s1">&#39;明天吃海鲜炒饭！&#39;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="c1">//执行函数才能得到结果
</span><span class="c1"></span><span class="p">}</span>

<span class="nx">foo</span><span class="p">()</span> <span class="c1">//执行函数才能得到结果
</span><span class="c1">//明天吃海鲜炒饭！
</span></code></pre></td></tr></table></div>
</div>
</div><p>这是闭包吗？从我个人的角度来说，是的。但是在我阅读的书籍<a href="https://awesome-programming-books.github.io/javascript/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%8A%E5%8D%B7%EF%BC%89.pdf" target="_blank" rel="noopener">《你不知道的JavaScript·上》</a>中给出了一个更严谨的说法，<strong>是也不是</strong>。</p>
<p>究其原因是作者认为这种处理方式完全可以使用作用域链来解释，虽然这是闭包非常重要的一部分，但是并不能完全的体现出闭包的全貌供给我们观察。</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">str</span> <span class="o">=</span> <span class="s1">&#39;明天吃海鲜炒饭！&#39;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">bar</span> <span class="c1">//返回bar函数
</span><span class="c1"></span><span class="p">}</span>

<span class="kr">const</span> <span class="nx">anoFoo</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">()</span>

<span class="nx">anoFoo</span><span class="p">()</span><span class="c1">//相当于执行了bar()，得到结果 明天吃海鲜炒饭！
</span></code></pre></td></tr></table></div>
</div>
</div><p><code>foo()</code>执行后，将其返回值（也就是内部的<code>bar</code>函数）赋值给常量<code>anoFoo</code>并调用<code>myFoo()</code>， 实际上只是通过不同的标识符引用调用了内部的函数<code>bar()</code>。</p>
<p>在<code>foo()</code>被执行后，通常会期待<code>foo()</code>的整个内部作用域被销毁。但是因为<code>bar()</code>正在有意无意地被间接使用着，所以整个作用域并不会回收。它覆盖着整个<code>foo()</code>函数内部作用域的闭包，以便随后在任何时间引用。</p>
<p><strong><code>bar()</code>依然持有对<code>foo()</code>作用域的引用，这个引用就叫做闭包。</strong></p>
<p>而书中这种制造新的变量/常量来间接引用<code>foo()</code>内部函数的方法，也只是为了证明闭包这个“幽灵”无论被怎么间接地引用都会产生：无论使用何种方式对函数类型的值进行传递，当函数在别处被调用时都可以观察到闭包。</p>
</li>
<li>
<h3 id="闭包可以用来做什么"><a href="#闭包可以用来做什么" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:闭包可以用来做什么" class="headings">闭包可以用来做什么？</a></h3>
<p>闭包在许多地方都有应用，它的最大用处莫非两个：</p>
<ol>
<li>访问/修改函数内部变量</li>
<li>将变量保存在内存中</li>
</ol>
<h4 id="访问修改函数内部变量"><a href="#访问修改函数内部变量" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:访问修改函数内部变量" class="headings">访问/修改函数内部变量</a></h4>
<p>正如我们在前面函数作用域的内容中提到的那样，我们无法从函数外部访问内部，而这种做法是处于安全的考虑，并不想把所有的变量都暴露在外部（往往它们只会暴露出可供使用的API）。</p>
<p>考虑下面代码</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">function</span> <span class="nx">CoolModule</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">something</span> <span class="o">=</span> <span class="s2">&#34; cool &#34;</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">another</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span> <span class="p">];</span>

    <span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">something</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">doAnother</span><span class="p">(){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">another</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&#34;!&#34;</span><span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">doSomething</span><span class="o">:</span> <span class="nx">doSomething</span><span class="p">,</span>
        <span class="nx">doAnother</span><span class="o">:</span> <span class="nx">doAnother</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">CoolModule</span><span class="p">();</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">();</span> <span class="c1">// cool
</span><span class="c1"></span><span class="nx">foo</span><span class="p">.</span><span class="nx">doAnother</span><span class="p">();</span> <span class="c1">// 1 ! 2 ! 3
</span></code></pre></td></tr></table></div>
</div>
</div><p>这种类似的模式在JavaScript中被称为 <strong>模块</strong> 。首先<code>CoolModule()</code>只是一个函数，必须要通过调用它来创建一个模块实例，如果不执行外部函数，那么内部作用域和闭包都无法创建。其次<code>CoolModule()</code>返回一个<code>{ key : value, ... }</code>对象。这个返回的对象中含有对内部函数（而非内部变量）的引用，保持了内部变量是隐藏且私有的状态。我们可以将这个对象类型的返回值看作是 <strong>模块公共的API</strong> 。</p>
<blockquote>
<p>严苛来讲，一个从函数调用所返回的，只有数据属性而没有闭包函数的对象并不是真正的模块。</p>
</blockquote>
<h4 id="将变量保存在内存中"><a href="#将变量保存在内存中" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:将变量保存在内存中" class="headings">将变量保存在内存中</a></h4>
<p>同样考虑如下代码</p>
<div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">function</span> <span class="nx">add</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="nx">n</span><span class="o">+=</span><span class="mi">1</span>
<span class="p">}</span>
</code></pre></td></tr></table></div>
</div>
</div><div class="highlight"><div class="chroma">
<div class="table-container"><table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-JavaScript" data-lang="JavaScript"><span class="kd">function</span> <span class="nx">add</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="kd">function</span> <span class="nx">counter</span><span class="p">(){</span>
         <span class="k">return</span> <span class="nx">n</span><span class="o">+=</span><span class="mi">1</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">counter</span>
<span class="p">}</span>
</code></pre></td></tr></table></div>
</div>
</div></li>
<li>
<h3 id="闭包的注意事项"><a href="#闭包的注意事项" class="anchor-link"><svg t="1624266334453" class="icon anchor-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22848" width="200" height="200"><path d="M859.867 448.403c136.9-63.175 54.44-193.784-98.066-152.726-84.072 22.603-158.738 111.715-218.313 145.103 33.388-59.575 122.469-134.255 145.104-218.281C729.65 69.96 599.041-12.468 535.881 124.402c-63.175-136.87-193.784-54.441-152.742 98.097 22.65 84.025 111.731 158.706 145.103 218.281-59.56-33.388-134.208-122.5-218.296-145.103-152.507-41.058-234.951 89.551-98.05 152.726-136.901 63.16-54.457 193.768 98.05 152.726 84.088-22.618 158.737-111.731 218.296-145.103-33.372 59.576-122.453 134.24-145.103 218.328-41.042 152.508 89.566 234.937 152.742 98.051 63.16 136.886 193.769 54.457 152.711-98.051-22.635-84.088-111.716-158.752-145.104-218.328 59.575 33.372 134.24 122.485 218.313 145.103 152.507 41.042 234.967-89.566 98.066-152.726z" fill="#BFCD37" p-id="22849"></path></svg></a><a href="#contents:闭包的注意事项" class="headings">闭包的注意事项⚠️</a></h3>
</li>
</ol>

            </div>

            


        </article>

        

        


        


        


        


        


        
    <footer class="minimal-footer">
        
            <div class="post-tag"><a href="/tags/javascript/" rel="tag" class="post-tag-link">#javascript</a></div>
        
        
            <div class="post-category">
                <a href="/tech/" class="post-category-link active">tech</a> | <a href="/life/" class="post-category-link">life</a>
            </div>
        
        
    </footer>



        


        
    
        
        
    
    
    
    
        <ul class="post-nav">
            
            
                <li class="post-nav-next">
                    <a href="/tech/211115/" rel="next">DOM初窥II DOM事件相关 &gt;</a>
                </li>
            
        </ul>
    



        


    </div>
</main>


            
    <div id="back-to-top" class="back-to-top">
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a>
    </div>


            
    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="site-info">©&nbsp;2021–2022&nbsp;<svg t="1624248899986" class="icon footer-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17336" width="200" height="200"><path d="M431.921517 76.83543l-23.281291-23.281291c-16.05585-16.05585-42.102052-16.824338-58.648251-1.27326-23.213301 21.818484-37.711571 52.799084-37.711571 87.170923 0 19.061815 4.464651 41.896022 12.396773 64.736411-13.109633-13.564958-26.967152-24.863595-40.163318-32.482552-29.767088-17.18695-63.844305-20.120804-94.346917-10.925724-21.740193 6.553786-34.09988 29.495129-28.221869 51.424869l8.521364 31.804716-31.804716 8.521365c-21.9318 5.875951-35.618315 28.050865-30.42432 50.15367 7.28931 31.009444 26.868258 59.058249 56.635346 76.243137 24.785304 14.310783 61.955018 24.161035 98.815688 26.089468-23.421391 10.868036-44.306563 24.630782-58.623527 38.945686-24.303196 24.305256-35.958263 56.462282-34.971383 88.304082 0.702559 22.696168 19.66342 40.571255 42.367829 40.571256h32.925514v32.925514c0 22.70647 17.875087 41.66527 40.571255 42.369889 31.841801 0.984819 63.998827-10.668188 88.304083-34.971383 25.634144-25.634144 49.506738-72.312102 58.122876-116.942131z" fill="#FFB5C0" p-id="17337"></path><path d="M728.720893 252.532947l-31.802656-8.521365 8.521364-31.804715c5.875951-21.92974-6.483737-44.871083-28.221869-51.42487-30.500552-9.19508-64.579829-6.261225-94.346917 10.925725-15.147261 8.745936-31.166026 22.329437-45.921831 38.636641 9.314577-24.863595 14.611586-50.116585 14.611585-70.892561 0-34.371839-14.498269-65.352438-37.711571-87.170923-16.544139-15.551078-42.592401-14.78259-58.64619 1.27326l-23.281291 23.281291c-102.909487 120.922614-102.711699 298.692783 0.465626 419.386705 8.616138 44.630029 32.488733 91.307987 58.122876 116.942131 24.305256 24.305256 56.462282 35.958263 88.304083 34.971384 22.694108-0.702559 40.569195-19.66342 40.569194-42.36989v-32.925514h32.925515c22.70647 0 41.66527-17.875087 42.367829-40.571255 0.98688-31.841801-10.666128-63.998827-34.971384-88.304083-14.267517-14.267517-35.057916-27.982876-58.382473-38.83443 37.63328-1.621449 75.870225-11.585018 101.185024-26.202784 29.767088-17.184889 49.346036-45.231634 56.635346-76.243137 5.198115-22.100744-8.49046-44.275659-30.42226-50.15161z" fill="#FFDBE0" p-id="17338"></path><path d="M430.60087 332.486669m-91.594368 0a91.594368 91.594368 0 1 0 183.188736 0 91.594368 91.594368 0 1 0-183.188736 0Z" fill="#FF8E9E" p-id="17339"></path><path d="M396.608125 352.640438c4.266863-0.00206 8.129909-1.730645 10.925724-4.52646s4.5244-6.658861 4.52646-10.927784v-20.602913a15.452184 15.452184 0 1 0-30.904369 0.002061v20.602912a15.452184 15.452184 0 0 0 15.452185 15.452184zM473.461109 348.113978a15.410979 15.410979 0 0 0 4.52646-10.925724v-20.602912a15.452184 15.452184 0 1 0-30.904369-0.002061v20.602913a15.454245 15.454245 0 0 0 26.377909 10.927784z" fill="#313D40" p-id="17340"></path><path d="M790.634705 623.018639a26.851776 26.851776 0 0 0-22.586973 13.422798l-10.387989 17.990463-17.990463-10.387989c-12.405014-7.161572-28.405235-3.376817-35.947961 8.801565-10.583716 17.085995-14.36023 38.333779-8.745937 59.278699 4.672741 17.440365 16.861424 38.418251 32.445467 55.722637-15.297662-5.599872-30.753967-8.776841-43.527773-8.778901-21.686626 0.00206-41.230548 9.147693-54.995355 23.794304-9.811107 10.437435-9.326938 26.870318 0.801454 37.00077l14.689876 14.689877-14.689876 14.687816c-10.130452 10.130452-10.61256 26.563335-0.801454 37.000771 13.764806 14.64455 33.310789 23.792243 54.995355 23.792243 22.871293 0 54.346362-10.173718 78.10152-26.24193-16.066151 23.755158-26.24193 55.230227-26.241929 78.101521 0 21.686626 9.147693 41.230548 23.792243 54.997414 10.437435 9.811107 26.870318 9.326938 37.00077-0.803513l14.689877-14.687817 14.687816 14.687817c10.130452 10.130452 26.563335 10.61256 37.000771 0.801453a75.431383 75.431383 0 0 0 20.957282-34.499577z" fill="#FFB5C0" p-id="17341"></path><path d="M1020.86401 843.375029c-9.506184-17.710264-26.017358-31.602807-46.964339-37.217101-10.657887-2.855564-23.864353-3.941337-37.723933-3.249079 15.246155-6.937001 28.877042-15.839519 38.146293-25.10877 15.334748-15.334748 22.685867-35.624496 22.063659-55.714396-0.442963-14.319024-12.405014-25.594998-26.732279-25.594998h-20.773917v-20.773916c0-14.325205-11.278034-26.289316-25.597058-26.732279-20.0899-0.622208-40.377588 6.730971-55.712336 22.065719-8.504882 8.502822-16.698661 20.683264-23.351341 34.410984 0.203969-11.900242-0.939493-23.122649-3.428324-32.408381-5.612233-20.946981-19.506838-37.458155-37.215041-46.964339a25.934946 25.934946 0 0 0-12.94481-3.071894c-33.496215 127.857554 1.808936 263.93567 93.246722 359.376602a75.579724 75.579724 0 0 0 2.837021-20.495778c0-12.728479-3.156366-28.122975-8.721213-43.36913 17.512476 16.066151 39.015735 28.679254 56.831073 33.450888 20.946981 5.614294 42.192704 1.835719 59.2787-8.747996 12.178382-7.544787 15.965197-23.542948 8.801564-35.947962l-10.385928-17.990463 17.990463-10.387989c12.409134-7.159512 17.131322-22.906318 10.355024-35.529722z" fill="#FFDBE0" p-id="17342"></path><path d="M771.684146 778.267765a15.410979 15.410979 0 0 0 10.927785 4.5244 15.415099 15.415099 0 0 0 10.927784-4.52646l14.56832-14.568319a15.452184 15.452184 0 1 0-21.853509-21.851449l-14.56832 14.568319a15.452184 15.452184 0 0 0-0.00206 21.853509zM881.674854 881.857149a15.413039 15.413039 0 0 0 10.925725-4.5244l14.568319-14.568319a15.452184 15.452184 0 1 0-21.851449-21.853509l-14.568319 14.568319a15.454245 15.454245 0 0 0 10.925724 26.377909zM814.340416 836.126924l0.006181 0.006181c11.644766 11.644766 29.07689 15.674696 44.407517 10.264371a15.452184 15.452184 0 0 0 9.429953-19.712866c-2.8329-8.051618-11.667429-12.271095-19.712866-9.429953-4.110281 1.450445-9.040558 0.255476-12.273155-2.977121l-0.002061-0.002061c-3.232597-3.232597-4.429626-8.162874-2.979181-12.269034a15.452184 15.452184 0 0 0-29.14282-10.289094c-5.412385 15.330627-1.380395 32.762751 10.266432 44.409577z" fill="#313D40" p-id="17343"></path><path d="M1011.036421 86.743371l-13.041644-3.494254 3.494254-13.043704c2.410541-8.993171-2.657776-18.400461-11.574716-21.089141-12.508028-3.770333-26.482984-2.567123-38.690209 4.481133-6.211778 3.586967-12.779987 9.155934-18.831062 15.84364 3.81978-10.196381 5.991327-20.551405 5.991327-29.07277 0-14.094452-5.946001-26.800269-15.464546-35.748113-6.784539-6.376601-17.467149-6.061377-24.05184 0.521254l-9.54739 9.547389-9.54739-9.547389c-6.584691-6.584691-17.265241-6.899915-24.05184-0.521254-9.518546 8.947845-15.464546 21.653661-15.464546 35.748113 0 7.816745 1.831599 17.180769 5.082739 26.548913-5.3753-5.562786-11.059643-10.196381-16.472029-13.319783-12.207226-7.048256-26.182181-8.251466-38.690209-4.481133-8.91488 2.68662-13.983197 12.09597-11.574716 21.089141l3.494254 13.043704-13.043704 3.494254c-8.993171 2.410541-14.607465 11.504666-12.477124 20.567887 2.989483 12.716118 11.018438 24.218724 23.225663 31.26698 10.163417 5.867709 25.407512 9.907941 40.523869 10.699093-9.605078 4.45641-18.169708 10.101608-24.041539 15.971377-9.967689 9.967689-14.745504 23.155613-14.341687 36.21374 0.288441 9.306336 8.06398 16.636852 17.374436 16.636851h13.503149v13.503149c0 9.310456 7.330516 17.088056 16.638912 17.376497 13.058126 0.403817 26.24605-4.373998 36.213739-14.341688 10.511606-10.511606 20.30211-29.655832 23.83551-47.957399 3.533399 18.303627 13.323903 37.445793 23.835509 47.957399 9.967689 9.967689 23.155613 14.745504 36.213739 14.341688 9.306336-0.288441 16.636852-8.06398 16.636852-17.376497v-13.503149h13.503149c9.312516 0 17.085995-7.330516 17.374436-16.636851 0.403817-13.058126-4.373998-26.24605-14.341688-36.21374-5.851227-5.851227-14.376712-11.475822-23.942644-15.923991 15.433642-0.665474 31.114518-4.751032 41.496326-10.746479 12.207226-7.046196 20.236181-18.548802 23.225663-31.26698 2.134462-9.065281-3.479832-18.157347-12.473003-20.567887z" fill="#FFDBE0" p-id="17344"></path><path d="M890.045818 120.387927m-30.904369 0a30.904369 30.904369 0 1 0 61.808737 0 30.904369 30.904369 0 1 0-61.808737 0Z" fill="#FF8E9E" p-id="17345"></path><path d="M254.909534 722.289652l-13.041643-3.494254 3.494254-13.043704c2.410541-8.993171-2.657776-18.400461-11.574717-21.089141-12.508028-3.770333-26.482984-2.567123-38.690209 4.481134-6.211778 3.586967-12.779987 9.155934-18.831062 15.843639 3.81978-10.196381 5.993387-20.551405 5.993387-29.072769 0-14.094452-5.946001-26.800269-15.464546-35.748114-6.784539-6.376601-17.467149-6.061377-24.05184 0.521254l-9.547389 9.54739-9.54739-9.54739c-6.584691-6.584691-17.265241-6.899915-24.05184-0.521254-9.518546 8.947845-15.464546 21.653661-15.464546 35.748114 0 7.816745 1.831599 17.180769 5.082738 26.548913-5.3753-5.562786-11.059643-10.196381-16.472028-13.319783-12.207226-7.048256-26.182181-8.251466-38.690209-4.481134-8.91488 2.68662-13.983197 12.09597-11.574717 21.089141l3.494254 13.043704-13.043703 3.494254c-8.993171 2.410541-14.607465 11.504666-12.477124 20.567888 2.989483 12.716118 11.018438 24.218724 23.225663 31.26698 10.163417 5.867709 25.407512 9.907941 40.523868 10.699092-9.605078 4.45641-18.169708 10.101608-24.041538 15.971378-9.967689 9.967689-14.745504 23.155613-14.341687 36.213739 0.288441 9.306336 8.06398 16.636852 17.374436 16.636852h13.503148v13.503149c0 9.310456 7.330516 17.088056 16.638913 17.376496 13.058126 0.403817 26.24605-4.373998 36.213739-14.341687 10.511606-10.511606 20.30211-29.653772 23.835509-47.9574 3.533399 18.303627 13.323903 37.445793 23.83551 47.9574 9.967689 9.967689 23.155613 14.745504 36.213739 14.341687 9.306336-0.288441 16.636852-8.06398 16.636852-17.376496v-13.503149h13.503148c9.312516 0 17.085995-7.330516 17.374436-16.636852 0.403817-13.058126-4.373998-26.24605-14.341687-36.213739-5.851227-5.851227-14.376712-11.475822-23.942644-15.923991 15.433642-0.665474 31.114518-4.751032 41.496325-10.746479 12.207226-7.046196 20.236181-18.548802 23.225664-31.26698 2.132401-9.063221-3.481892-18.157347-12.475064-20.567888z" fill="#FFB5C0" p-id="17346"></path><path d="M133.918931 755.934208m-30.904369 0a30.904369 30.904369 0 1 0 61.808738 0 30.904369 30.904369 0 1 0-61.808738 0Z" fill="#FFDBE0" p-id="17347"></path></svg>&nbsp;Hiillos</div><div class="powered-by">Powered by <a href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener">Hugo</a> | Theme is <a href="https://github.com/reuixiy/hugo-theme-meme" target="_blank" rel="noopener">MemE</a></div><div class="site-copyright"></div><div class="custom-footer">明日の朝あたり，世界を変えにいこうかね🌸</div>

            


            
        </div>
    </footer>


        </div>
        

        








    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js"></script>

<script>
    mediumZoom(document.querySelectorAll('div.post-body img'), {
        background: 'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'
    })
</script>




    <script src="https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js" type="module" defer></script>







    </body>
</html>
